<ul class="nav nav-pills nav-justified"
	id="mainNav"
	ng-show="ks2013.done() || parseUser.isBetaUser()">

	<!-- universal nav -->
	<li ng-class="{ active: $state.includes('rules') }">
		<a ui-sref='rules'>Rules</a>
	</li>
	<li ng-class="{ active: $state.includes('submit') }">
		<a ui-sref='submit'>Submit</a>
	</li>
	<li ng-class="{ active: $state.includes('vote') }">
		<a ui-sref='vote'>Vote</a>
	</li>
	<li ng-class="{ active: $state.includes('top') }">
		<a ui-sref='top'>Leaderboard</a>
	</li>

	<!-- user stuff -->
	<li class="dropdown"
		ng-hide="parseUser.isAnon()">
		<a class="dropdown-toggle" 
			data-toggle="dropdown">
			{{parseUser.data.attributes.name}}
			<b class="caret"></b>
		</a>
		<ul class="dropdown-menu">
			<li>
				<a ui-sref='user({userid: parseUser.data.id})'
					ng-class="{ active: $state.includes('profile') }">
					My Profile
				</a>
			</li>
			<!-- Admin section -->
			<li role="presentation" 
				class="divider"
				ng-show="parseUser.isAdmin()"></li>
			<li role="presentation" 
				class="dropdown-header"
				ng-show="parseUser.isAdmin()">
				Admin
			</li>
			<li ng-class="{ active: $state.includes('moderation') }"
				ng-show="parseUser.isAdmin()">
				<a ui-sref='moderation'>Moderation</a>
			</li>
			<li role="presentation" class="divider"></li>
			<!-- logout -->
			<li>
				<a ng-click="parseUser.logout()">Logout</a>
			</li>
		</ul>
	</li>
	
	<li class="login" 
		ng-class="{ active: $state.includes('login') }"
		ng-show="parseUser.isAnon()">
		<a ui-sref='login'>
			Login
		</a>
	</li>
</ul>